#This script takes as input a file generated by the "cleaner" script (or otherwise cleaned up and rendered in sentence-per-line format) and outputs a word2vec model based on that corpus.  See the gensim documentation for modelling parameters (https://radimrehurek.com/gensim/models/word2vec.html).  For downstream application using the "worder" and "wtouty" scripts, the file specified by "fr" should be named either "SG" or "CBOW" followed by the window size, "x", then the dimensionality (eg: "SG5x200" for a skip-gram model using a co-occurrence window of 5 and generating 200 dimensional word embeddings).

import gensim

fr = "/path/to/cleaned/corpus"
fw = "/path/to/output/model/SGWINxDIM"

class sentencer(object):
    def __init__(self,n):
        self.n = n

    def __iter__(self):
        for line in open(self.n,'r'):
            yield line.split()

model = gensim.models.Word2Vec(sentences=sentencer(fr),size=200,window=5,max_vocab_size=200000,sg=1, negative=0,hs=1)
model.save(fw)
